

<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>Plug &amp; Play - Usman Khaliq</title>







<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="Usman Khaliq">
<meta property="og:title" content="Plug &amp; Play">


  <link rel="canonical" href="http://ottoman91.github.io/ottoman91/projects/2019_0001_plugandplay/">
  <meta property="og:url" content="http://ottoman91.github.io/ottoman91/projects/2019_0001_plugandplay/">



  <meta property="og:description" content="An interactive music player design that explores a more tactile relationship with music in today’s digital world.">



  <meta name="twitter:site" content="@usmankhaliq">
  <meta name="twitter:title" content="Plug &amp; Play">
  <meta name="twitter:description" content="An interactive music player design that explores a more tactile relationship with music in today’s digital world.">
  <meta name="twitter:url" content="">

  
    <meta name="twitter:card" content="summary">
    
  

  



  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2021-10-31T16:27:48+00:00">
  
    <link rel="next" href="http://ottoman91.github.io/ottoman91/projects/2019_001_privacy/" title="Changing Attitudes Towards Online Privacy">
  
  
    <link rel="prev" href="http://ottoman91.github.io/ottoman91/projects/2019_00001_targetbasedcare/" title="Automating Target Based Care at the Lucille Packard Children&#39;s Hospital">
  





  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "person",
      "name" : "Usman Khaliq",
      "url" : "http://ottoman91.github.io/ottoman91",
      "sameAs" : ["https://twitter.com/usmankhaliq","https://facebook.com/usman.khaliq.7","https://instagram.com/ottoman91","https://www.linkedin.com/in/usmankhaliq1"]
    }
  </script>






<!-- end SEO -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Usman Khaliq Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">
    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="/">Usman Khaliq</a></li>
          
            
            <li class="masthead__menu-item"><a href="/about">About</a></li>
          
            
            <li class="masthead__menu-item"><a href="/portfolio">Work Portfolio</a></li>
          
            
            <li class="masthead__menu-item"><a href="/project">Projects</a></li>
          
            
            <li class="masthead__menu-item"><a href="/designlog">Blog</a></li>
          
            
            <li class="masthead__menu-item"><a href="/visualization">Visualizations</a></li>
          
            
            <li class="masthead__menu-item"><a href="/book">Book Reviews</a></li>
          
            
            <li class="masthead__menu-item"><a href="/pdfs/CV_Usman_Khaliq.pdf">CV</a></li>
          
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    





<div id="main" role="main">
  


  <div class="sidebar sticky">
  



<div itemscope itemtype="http://schema.org/Person">

  <div class="author__avatar">
    
    	<img src="/images/usmanbio.gif" class="author__avatar" alt="Usman Khaliq">
    
  </div>

  <div class="author__content">
    <h3 class="author__name">Usman Khaliq</h3>
    <p class="author__bio">Data Scientist at Overjet, works in R(tidyverse) and Python</p>
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
      
      
        <li><a href="mailto:usman.khaliq91@gmail.com"><i class="fa fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li>
      
      
      
        <li><a href="https://twitter.com/usmankhaliq"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
      
      
      
      
        <li><a href="https://www.linkedin.com/in/usmankhaliq1"><i class="fa fa-fw fa-linkedin-square" aria-hidden="true"></i> LinkedIn</a></li>
      
      
      
      
      
      
        <li><a href="https://github.com/ottoman91"><i class="fa fa-fw fa-github" aria-hidden="true"></i> Github</a></li>
      
      
        <li><a href="https://www.stackoverflow.com/users/4623619/usman-khaliq"><i class="fa fa-fw fa-stack-overflow" aria-hidden="true"></i> Stackoverflow</a></li>
      
      
      
      
      
      
      
      
      
      
      
       
       
        <li><a href="https://medium.com/@ottoman91"><i class="fa fa-fw fa-medium" aria-hidden="true"></i> Medium</a></li>
      
    </ul>
  </div>
</div>

  
    
      
      <h3>Team Members</h3>
      <p>Sohini Guin, Usman Khaliq</p>

    
    
  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Plug &amp; Play">
    <meta itemprop="description" content="An interactive music player design that explores a more tactile relationship with music in today’s digital world.">
    <meta itemprop="datePublished" content="October 31, 2021">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Plug &amp; Play
</h1>
          
            <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  11 minutes read
	
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        <h2 id="background">Background</h2>

<p>For the Smart Products course in my Masters program at Stanford, my teammate and 
I were tasked with rethinking and prototyping the future of music players.</p>

<h2 id="plug--play---a-new-tactile-way-of-engaging-with-music">Plug &amp; Play - A New Tactile Way of Engaging with Music</h2>

<p>We prototyped the following music player, which we named “Plug &amp; Play”.</p>

<figure>
  <img src="/images/mp3player/image1.jpeg" alt="this is a placeholder image" />
</figure>

<h2 id="design-principles-of-plug--play">Design Principles of Plug &amp; Play</h2>

<p>The following were the design principles of our music player.</p>

<h3 id="conceptual-model">Conceptual Model</h3>

<ul>
  <li>
    <p>Plug &amp; Play as the same suggests plays music when the user plugs one of the 
slots provided. It is inspired by a Whack-a-mole!</p>
  </li>
  <li>
    <p>It can play six tracks for the six slots provided. The name, physical appearance 
of the slots and the plug make the concept clear to the user.</p>
  </li>
</ul>

<h3 id="affordances">Affordances</h3>

<ul>
  <li>
    <p>The visible speaker on both sides of the product makes it look like an object 
that has audio output.</p>
  </li>
  <li>
    <p>The Plug &amp; Play mp3 player has slots and a plug which makes it look like that
is the primary action necessary</p>
  </li>
</ul>

<h3 id="signifiers">Signifiers</h3>

<ul>
  <li>
    <p>The volume control with the slider is a signifier that the volume can be changed.</p>
  </li>
  <li>
    <p>The slots and the plug signify the action that the plug needs to be placed in 
the slot.</p>
  </li>
  <li>
    <p>The copper contact color inside the slot as well as on the base of the plug 
also act as a similar signifier.</p>
  </li>
</ul>

<h3 id="constraints">Constraints</h3>

<ul>
  <li>The Plug &amp; Play mp3 player can play 6 tracks. This constraint is obvious from 
the six slots on the product.</li>
</ul>

<h2 id="video-demo-of-plug--play">Video Demo of Plug &amp; Play</h2>

<iframe src="https://www.youtube.com/embed/P3HCQbTM7uA" width="560" height="315" frameborder="0"> </iframe>

<h2 id="the-state-diagram">The State Diagram</h2>

<p>The following was the state diagram for Plug &amp; Play</p>

<figure>
  <img src="/images/mp3player/statediagram.png" alt="this is a placeholder image" />
</figure>

<h2 id="hardware-parts-used-in-plug--play">Hardware Parts Used in Plug &amp; Play</h2>

<ul>
  <li>Arduino UNO</li>
  <li>Grove Shield</li>
  <li><a href="http://wiki.seeedstudio.com/Grove-MP3_v2.0/" target="_blank">Grove - MP3 v2.0</a></li>
  <li><a href="http://wiki.seeedstudio.com/Grove-Slide_Potentiometer/" target="_blank">Grove - Slide Potentiometer</a></li>
  <li>Buttons</li>
</ul>

<h2 id="arduino-code-for-plug--play">Arduino Code for Plug &amp; Play</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>#include &lt;SoftwareSerial.h&gt;
#include &lt;EventManager.h&gt;
#include &lt;MP3Player_KT403A.h&gt;
 
//---------------------------------
//      Defintions &amp; Variables    
//---------------------------------
// Add any defintions (like pin numbers) here:
const int button1 = 4;
const int button2 = 5;
const int button3 = 6;
const int button4 = 7;
const int button5 = 8;
const int button6 = 9;
//static int prev_reading1 = LOW;
//variables for the potentiometer
int adcPin = A0; // select the input pin for the potentiometer
int ledPin = A1; // select the pin for the LED
int adcIn = 0;   // variable to store the value coming from the sensor
int output = 0; //variable that records the scaled output from the potentiometer
uint8_t volumeLevel; // volume level input in hexadecimal
 
// Note: You must define a SoftwareSerial class object that the name must be mp3,
//       but you can change the pin number according to the actual situation.
SoftwareSerial mp3(2, 3);
 
// the number of the pushbutton pin
 
// variables will change:
int buttonState = 0;         // variable for reading the pushbutton status
 
//---------------------------------
//     Event &amp; State Variables    
//---------------------------------
// Renaming events to have more useful names
// (you can add more and rename as needed)
#define EVENT_PLUGIN_SONG1 EventManager::kEventMenu0
#define EVENT_PLUGOUT_SONG1 EventManager::kEventMenu1
#define EVENT_PLUGIN_SONG2 EventManager::kEventUser2
#define EVENT_PLUGOUT_SONG2 EventManager::kEventUser3
#define EVENT_PLUGIN_SONG3 EventManager::kEventUser4
#define EVENT_PLUGOUT_SONG3 EventManager::kEventUser5
#define EVENT_PLUGIN_SONG4 EventManager::kEventUser6
#define EVENT_PLUGOUT_SONG4 EventManager::kEventUser7
#define EVENT_PLUGIN_SONG5 EventManager::kEventUser8
#define EVENT_PLUGOUT_SONG5 EventManager::kEventUser9
#define EVENT_PLUGIN_SONG6 EventManager::kEventMenu2
#define EVENT_PLUGOUT_SONG6 EventManager::kEventMenu3
 
 
// Create the Event Manager
EventManager eventManager;
 
// Create the different states for the state machine
enum SystemState_t {INIT,MP3_OFF,PLAY_SONG1,PLAY_SONG2,PLAY_SONG3,PLAY_SONG4,PLAY_SONG5,PLAY_SONG6};
 
// Create and set a variable to store the current state
SystemState_t currentState = INIT;
 
 
void setup() {
  Serial.begin(9600); // init serial to 9600b/s
  pinMode(ledPin, OUTPUT); // set ledPin to OUTPUT
 
  eventManager.addListener(EVENT_PLUGIN_SONG1,music_player);
  eventManager.addListener(EVENT_PLUGOUT_SONG1,music_player); 
  eventManager.addListener(EVENT_PLUGIN_SONG2,music_player);
  eventManager.addListener(EVENT_PLUGOUT_SONG2,music_player);
  eventManager.addListener(EVENT_PLUGIN_SONG3,music_player);
  eventManager.addListener(EVENT_PLUGOUT_SONG3,music_player);
  eventManager.addListener(EVENT_PLUGIN_SONG4,music_player);
  eventManager.addListener(EVENT_PLUGOUT_SONG4,music_player);
  eventManager.addListener(EVENT_PLUGIN_SONG5,music_player);
  eventManager.addListener(EVENT_PLUGOUT_SONG5,music_player);
  eventManager.addListener(EVENT_PLUGIN_SONG6,music_player);
  eventManager.addListener(EVENT_PLUGOUT_SONG6,music_player);
 
  // Initialize state machine
  //    Rename with your state machine name!
  music_player(INIT,0);
}
 
void loop() {
    // Handle any events that are in the queue
    eventManager.processEvent();
 
    // Check for any new events
    OnPlugIn1();
    OnPlugOut1();
    OnPlugIn2();
    OnPlugOut2();
    OnPlugIn3();
    OnPlugOut3();
    OnPlugIn4();
    OnPlugOut4();
    OnPlugIn5();
    OnPlugOut5();
    OnPlugIn6();
    OnPlugOut6();
 
// read the value from the sensor:
    adcIn = analogRead(adcPin);
    output = map(adcIn,0,1023,0,60);
    if(output &gt;= 7) digitalWrite(ledPin,HIGH);  // if adc in &amp;gt; 500, led light
    else digitalWrite(ledPin, LOW);
    volumeLevel = (uint8_t) output;
    SetVolume(volumeLevel);
    //Serial.println(volumeLevel);
    delay(100);
}
 
//---------------------------------
//        Event Checkers 
//---------------------------------
/* These are functions that check if an event has happened,
 * and posts them (and any corresponding parameters) to the
 * event queue, to be handled by the state machine.
*    Change function names as desired. */
void OnPlugIn1() {
  //static int prev_reading = LOW;
  bool eventHappened = false;
  int eventParameter = 0;       // Change type as needed
 
  int currentReading = digitalRead(button1);
  static int prev_reading = currentReading;
  
  // Check if the button reading changed (and that we're not debouncing)
  //commented this right now
  if((currentReading != prev_reading)) {
    // If the reading is high, the button was pressed
    if (currentReading == HIGH ) {
      eventHappened = true; 
    } 
  }    
 
  // Post the event if it occured
  if (eventHappened == true) {
    eventManager.queueEvent(EVENT_PLUGIN_SONG1, eventParameter);
    Serial.println("BUTTON DOWN EVENT");
  } 
 
  // Update last button reading
  prev_reading = currentReading;
   
  //Serial.println(prev_reading);
}
//commented this function out right now
void OnPlugOut1() {
  bool eventHappened = false;
  int eventParameter = 0;       // Change type as needed
 
  int currentReading = digitalRead(button1);
  static int prev_reading = currentReading;
  
  // Check if the button reading changed (and that we're not debouncing)
  if ((currentReading != prev_reading)) {
    if(currentReading == LOW){
      eventHappened = true;
    }
   
  }
 
  // Post the event if it occured
  if (eventHappened == true) {
    eventManager.queueEvent(EVENT_PLUGOUT_SONG1, eventParameter);
    Serial.println("BUTTON UP EVENT");
  }
 
  prev_reading = currentReading;
}
 
void OnPlugIn2() {
  //static int prev_reading = LOW;
  bool eventHappened = false;
  int eventParameter = 0;       // Change type as needed
 
  int currentReading = digitalRead(button2);
  static int prev_reading = currentReading;
  
  // Check if the button reading changed (and that we're not debouncing)
  //commented this right now
  if((currentReading != prev_reading)) {
    // If the reading is high, the button was pressed
    if (currentReading == HIGH ) {
      eventHappened = true; 
    } 
    
    
  }   
 
  // Post the event if it occured
  if (eventHappened == true) {
    eventManager.queueEvent(EVENT_PLUGIN_SONG2, eventParameter);
    Serial.println("BUTTON DOWN EVENT");
  } 
  
  // Update last button reading
  prev_reading = currentReading;
   
  //Serial.println(prev_reading);
}
//commented this function out right now
void OnPlugOut2() {
  bool eventHappened = false;
  int eventParameter = 0;       // Change type as needed
 
  int currentReading = digitalRead(button2);
  static int prev_reading = currentReading;
  
  // Check if the button reading changed (and that we're not debouncing)
  if ((currentReading != prev_reading)) {
    if(currentReading == LOW){
      eventHappened = true;
    }
   
  }
 
  // Post the event if it occured
  if (eventHappened == true) {
    eventManager.queueEvent(EVENT_PLUGOUT_SONG2, eventParameter);
    Serial.println("BUTTON UP EVENT");
  }
 
  prev_reading = currentReading;
}
 
void OnPlugIn3() {
  //static int prev_reading = LOW;
  bool eventHappened = false;
  int eventParameter = 0;       // Change type as needed
 
  int currentReading = digitalRead(button3);
  static int prev_reading = currentReading;
  
  // Check if the button reading changed (and that we're not debouncing)
  //commented this right now
  if((currentReading != prev_reading)) {
    // If the reading is high, the button was pressed
    if (currentReading == HIGH ) {
      eventHappened = true; 
    } 
    
  }   
 
  // Post the event if it occured
  if (eventHappened == true) {
    eventManager.queueEvent(EVENT_PLUGIN_SONG3, eventParameter);
    Serial.println("BUTTON DOWN EVENT");
  } 
 
  
  // Update last button reading
  prev_reading = currentReading;
   
  //Serial.println(prev_reading);
}
//commented this function out right now
void OnPlugOut3() {
  bool eventHappened = false;
  int eventParameter = 0;       // Change type as needed
 
  int currentReading = digitalRead(button3);
  static int prev_reading = currentReading;
  
  // Check if the button reading changed (and that we're not debouncing)
  if ((currentReading != prev_reading)) {
    if(currentReading == LOW){
      eventHappened = true;
    }
   
  }
 
  // Post the event if it occured
  if (eventHappened == true) {
    eventManager.queueEvent(EVENT_PLUGOUT_SONG3, eventParameter);
    Serial.println("BUTTON UP EVENT");
  }
 
  prev_reading = currentReading;
} 
 
void OnPlugIn4() {
  //static int prev_reading = LOW;
  bool eventHappened = false;
  int eventParameter = 0;       // Change type as needed
 
  int currentReading = digitalRead(button4);
  static int prev_reading = currentReading;
  
  // Check if the button reading changed (and that we're not debouncing)
  //commented this right now
  if((currentReading != prev_reading)) {
    // If the reading is high, the button was pressed
    if (currentReading == HIGH ) {
      eventHappened = true; 
    }   
    
  } 
 
  // Post the event if it occured
  if (eventHappened == true) {
    eventManager.queueEvent(EVENT_PLUGIN_SONG4, eventParameter);
    Serial.println("BUTTON DOWN EVENT");
  } 
  
  // Update last button reading
  prev_reading = currentReading;
   
  //Serial.println(prev_reading);
}
//commented this function out right now
void OnPlugOut4() {
  bool eventHappened = false;
  int eventParameter = 0;       // Change type as needed
 
  int currentReading = digitalRead(button4);
  static int prev_reading = currentReading;
  
  // Check if the button reading changed (and that we're not debouncing)
  if ((currentReading != prev_reading)) {
    if(currentReading == LOW){
      eventHappened = true;
    }
   
  }
 
  // Post the event if it occured
  if (eventHappened == true) {
    eventManager.queueEvent(EVENT_PLUGOUT_SONG4, eventParameter);
    Serial.println("BUTTON UP EVENT");
  }
 
  prev_reading = currentReading;
} 
 
void OnPlugIn5() {
  //static int prev_reading = LOW;
  bool eventHappened = false;
  int eventParameter = 0;       // Change type as needed
 
  int currentReading = digitalRead(button5);
  static int prev_reading = currentReading;
  
  // Check if the button reading changed (and that we're not debouncing)
  //commented this right now
  if((currentReading != prev_reading)) {
    // If the reading is high, the button was pressed
    if (currentReading == HIGH ) {
      eventHappened = true; 
    }   
    
  } 
 
  // Post the event if it occured
  if (eventHappened == true) {
    eventManager.queueEvent(EVENT_PLUGIN_SONG1, eventParameter);
    Serial.println("BUTTON 5 DOWN EVENT");
  } 
  
  // Update last button reading
  prev_reading = currentReading;
   
  //Serial.println(prev_reading);
}
//commented this function out right now
void OnPlugOut5() {
  bool eventHappened = false;
  int eventParameter = 0;       // Change type as needed
 
  int currentReading = digitalRead(button5);
  static int prev_reading = currentReading;
  
  // Check if the button reading changed (and that we're not debouncing)
  if ((currentReading != prev_reading)) {
    if(currentReading == LOW){
      eventHappened = true;
    }
   
  }
 
  // Post the event if it occured
  if (eventHappened == true) {
    eventManager.queueEvent(EVENT_PLUGOUT_SONG1, eventParameter);
    Serial.println("BUTTON UP 5 EVENT");
  }
 
  prev_reading = currentReading;
}
    
void OnPlugIn6() {
  //static int prev_reading = LOW;
  bool eventHappened = false;
  int eventParameter = 0;       // Change type as needed
 
  int currentReading = digitalRead(button6);
  static int prev_reading = currentReading;
  
  // Check if the button reading changed (and that we're not debouncing)
  //commented this right now
  if((currentReading != prev_reading)) {
    // If the reading is high, the button was pressed
    if (currentReading == HIGH ) {
      eventHappened = true; 
    } 
    
  } 
    
 
  // Post the event if it occured
  if (eventHappened == true) {
    eventManager.queueEvent(EVENT_PLUGIN_SONG3, eventParameter);
    Serial.println("BUTTON 5 DOWN EVENT");
  } 
 
  // Update last button reading
  prev_reading = currentReading;
   
  //Serial.println(prev_reading);
}
//commented this function out right now
void OnPlugOut6() {
  bool eventHappened = false;
  int eventParameter = 0;       // Change type as needed
 
  int currentReading = digitalRead(button6);
  static int prev_reading = currentReading;
  
  // Check if the button reading changed (and that we're not debouncing)
  if ((currentReading != prev_reading)) {
    if(currentReading == LOW){
      eventHappened = true;
    }
   
  }
 
  // Post the event if it occured
  if (eventHappened == true) {
    eventManager.queueEvent(EVENT_PLUGOUT_SONG3, eventParameter);
    Serial.println("BUTTON UP 5 EVENT");
  }
 
  prev_reading = currentReading;
}
    
//commented this function out right now
 
//---------------------------------
//           State Machine 
//---------------------------------
/* Use this function to create your state machine, which responds
 * to events based on the current state. Remember to update
 * the name of your state machine and the names of any events
 * and states! */
void music_player( int event, int param )
{
  // Initialize next state
  SystemState_t nextState = currentState;
 
  // Handle events based on the current state
  switch (currentState) {
    case INIT:
      //Serial.println("STATE: Initialization");
     
      // Do intialization things here:
      // ...
      pinMode(button1,INPUT);
      pinMode(button2, INPUT);
      pinMode(button3, INPUT);
      pinMode(button4, INPUT);
      pinMode(button5, INPUT);
      pinMode(button6, INPUT);
      
      //Initialize mp3 player
      mp3.begin(9600);
 
      delay(100);
      SelectPlayerDevice(0x02);       // Select SD card as the player device.
      SetVolume(0x0E);                // Set the volume, the range is 0x00 to 0x1E.
 
      //Start with mp3 player off
      nextState = MP3_OFF;
      break;
 
    case MP3_OFF:
      Serial.println("STATE: MP3 off. waiting for inputs");
     
      if(event == EVENT_PLUGIN_SONG1){
        // Change state to PLAYSONG_1
        //add all events for detecting all plugins here and then
        //move to subsequent states
        Serial.println("    EVENT_PLUGIN_SONG1 Received");
        PlayMP3folder(1);
 
        nextState = PLAY_SONG1;
      } 
 
      if(event == EVENT_PLUGIN_SONG2){
        // Change state to PLAYSONG_2
        //add all events for detecting all plugins here and then
        //move to subsequent states
        Serial.println("    EVENT_PLUGIN_SONG2 Received");
        PlayMP3folder(2);
 
        nextState = PLAY_SONG2;
      } 
 
      if(event == EVENT_PLUGIN_SONG3){
        // Change state to PLAYSONG_3
        //add all events for detecting all plugins here and then
        //move to subsequent states
        Serial.println("    EVENT_PLUGIN_SONG3 Received");
        PlayMP3folder(3);
 
        nextState = PLAY_SONG3;
      } 
 
      if(event == EVENT_PLUGIN_SONG4){
        // Change state to PLAYSONG_4
        //add all events for detecting all plugins here and then
        //move to subsequent states
        Serial.println("    EVENT_PLUGIN_SONG4 Received");
        PlayMP3folder(4);
 
        nextState = PLAY_SONG4;
      }  
 
       if(event == EVENT_PLUGIN_SONG5){
        // Change state to PLAYSONG_4
        //add all events for detecting all plugins here and then
        //move to subsequent states
        Serial.println("    EVENT_PLUGIN_SONG5 Received");
        PlayMP3folder(5);
 
        nextState = PLAY_SONG5;
      }   
 
      if(event == EVENT_PLUGIN_SONG6){
        // Change state to PLAYSONG_4
        //add all events for detecting all plugins here and then
        //move to subsequent states
        Serial.println("    EVENT_PLUGIN_SONG6 Received");
        PlayMP3folder(6);
 
        nextState = PLAY_SONG6;
      }  
 
      break;
 
    case PLAY_SONG1:
     Serial.println("STATE: Play Song 1");
      
     if(event == EVENT_PLUGOUT_SONG1){
        //Serial.println("event recorded");
        Serial.println("    EVENT_PLUGIN_SONG1 Received");
        PlayPause();
        nextState = MP3_OFF;
      }
     break;
 
     case PLAY_SONG2:
     Serial.println("STATE: Play Song 2");
      
     if(event == EVENT_PLUGOUT_SONG2){
        //Serial.println("event recorded");
        Serial.println("    EVENT_PLUGIN_SONG2 Received");
        PlayPause();
        nextState = MP3_OFF;
      }
     break;
 
     case PLAY_SONG3:
     Serial.println("STATE: Play Song 3");
      
     if(event == EVENT_PLUGOUT_SONG3){
        //Serial.println("event recorded");
        Serial.println("    EVENT_PLUGIN_SONG3 Received");
        PlayPause();
        nextState = MP3_OFF;
      }
     break;
 
     case PLAY_SONG4:
     Serial.println("STATE: Play Song 4");
      
     if(event == EVENT_PLUGOUT_SONG4){
        //Serial.println("event recorded");
        Serial.println("    EVENT_PLUGIN_SONG4 Received");
        PlayPause();
        nextState = MP3_OFF;
      }
     break;
 
     case PLAY_SONG5:
     Serial.println("STATE: Play Song 5");
      
     if(event == EVENT_PLUGOUT_SONG5){
        //Serial.println("event recorded");
        Serial.println("    EVENT_PLUGIN_SONG5 Received");
        PlayPause();
        nextState = MP3_OFF;
      }
     break;
 
     case PLAY_SONG6:
     Serial.println("STATE: Play Song 6");
      
     if(event == EVENT_PLUGOUT_SONG6){
        //Serial.println("event recorded");
        Serial.println("    EVENT_PLUGIN_SONG5 Received");
        PlayPause();
        nextState = MP3_OFF;
      }
     break;

    // you can have any number of case statements
    default:
      Serial.println("STATE: Unknown State");
      break;
  }
 
  // Update the current state
  currentState = nextState;
}

</code></pre>
</div>

        
      </section>

      <footer class="page__meta">
        
        




        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-10-31T16:27:48+00:00">October 31, 2021</time></p>
        
      </footer>

      

      


  <nav class="pagination">
    
      <a href="/projects/2019_00001_targetbasedcare/" class="pagination--pager" title="Automating Target Based Care at the Lucille Packard Children’s Hospital
">Previous</a>
    
    
      <a href="/projects/2019_001_privacy/" class="pagination--pager" title="Changing Attitudes Towards Online Privacy
">Next</a>
    
  </nav>

    </div>

    
      

<div class="page__comments">
  <h4 class="page__comments-title">Leave a Comment</h4>
  
    <section id="disqus_thread"></section>
  
</div>
    
  </article>

  
   


</div>

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="https://twitter.com/usmankhaliq"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="http://github.com/ottoman91"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 Usman Khaliq. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>
      </footer>
    </div>

    <script src="/assets/js/main.min.js"></script>




  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-114314619-1', 'auto');
  ga('send', 'pageview');
</script>






  
  <script type="text/javascript">
  	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  	var disqus_shortname = 'usmankhaliq';

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function() {
  		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  	})();

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function () {
  		var s = document.createElement('script'); s.async = true;
  		s.type = 'text/javascript';
  		s.src = '//' + disqus_shortname + '.disqus.com/count.js';
  		(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  	}());
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>






  </body>
</html>

